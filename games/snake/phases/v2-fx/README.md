# âœ¨ Snake v2-fx - ç²’å­ç‰¹æ•ˆç‰ˆæœ¬

## æ¦‚è¿°

è¿™æ˜¯ Snake æ¸¸æˆçš„ **v2-fx** ç‰ˆæœ¬ï¼Œåœ¨ v1-items åŸºç¡€ä¸Šæ·»åŠ äº†ï¼š
- ğŸ† ç²’å­ç³»ç»Ÿï¼ˆçˆ†ç‚¸ã€è½¨è¿¹ã€æ¶ˆæ•£æ•ˆæœï¼‰
- ğŸ“³ å±å¹•éœ‡åŠ¨æ•ˆæœ
- ğŸŒŠ ç¼“åŠ¨å‡½æ•°åº“
- âœ¨ é£Ÿç‰©é—ªçƒåŠ¨ç”»

## ğŸ® æ–°å¢ç‰¹æ€§

### ç²’å­æ•ˆæœ

| æ•ˆæœ | è§¦å‘æ¡ä»¶ | è§†è§‰è¡¨ç° |
|------|----------|----------|
| **çˆ†ç‚¸** | åƒåˆ°é£Ÿç‰©æ—¶ | 20-30ä¸ªç²’å­å‘å››å‘¨é£æ•£ï¼Œå—é‡åŠ›å½±å“ä¸‹è½ |
| **è½¨è¿¹** | è›‡ç§»åŠ¨æ—¶ | è›‡å¤´åæ–¹äº§ç”Ÿæ·¡å‡ºçš„ç»¿è‰²è½¨è¿¹ |
| **æ’å‡»** | æ’åˆ°å¢™å£/è‡ªèº«æ—¶ | 50ä¸ªçº¢è‰²ç²’å­å¼ºçƒˆçˆ†ç‚¸ |
| **æ¶ˆæ•£** | é‡‘è‰²é£Ÿç‰©æ¶ˆå¤±æ—¶ | é‡‘è‰²ç²’å­å‘ä¸Šé£˜æ•£ |

### å±å¹•éœ‡åŠ¨
- **è½»å¾®éœ‡åŠ¨**ï¼šåƒåˆ°é£Ÿç‰©æ—¶ï¼ˆå¼ºåº¦3ï¼ŒæŒç»­0.1ç§’ï¼‰
- **å¼ºçƒˆéœ‡åŠ¨**ï¼šæ’åˆ°éšœç¢æˆ–å¢™å£æ—¶ï¼ˆå¼ºåº¦10ï¼ŒæŒç»­0.3ç§’ï¼‰
- **è¡°å‡æ•ˆæœ**ï¼šéœ‡åŠ¨å¼ºåº¦éšæ—¶é—´é€’å‡

### ç¼“åŠ¨å‡½æ•°åº“
æä¾›10+ç§ç¼“åŠ¨å‡½æ•°ç”¨äºåŠ¨ç”»ï¼š
- `linear` - çº¿æ€§
- `easeOutQuad`, `easeInOutQuad` - äºŒæ¬¡æ–¹
- `easeOutCubic`, `easeInOutCubic` - ä¸‰æ¬¡æ–¹
- `easeOutSine` - æ­£å¼¦
- `easeOutExpo` - æŒ‡æ•°
- `easeOutBounce` - å¼¹æ€§
- `easeOutBack` - å›å¼¹

## ğŸ“ æ–°å¢æ–‡ä»¶

```
v2-fx/
â”œâ”€â”€ particle.h/cpp      # ç²’å­ç³»ç»Ÿå’Œç¼“åŠ¨å‡½æ•°
â”œâ”€â”€ screenshake.h/cpp   # å±å¹•éœ‡åŠ¨æ•ˆæœ
â””â”€â”€ README.md           # æœ¬æ–‡ä»¶
```

## ğŸ“ å­¦ä¹ è¦ç‚¹

### 1. å¯¹è±¡æ± æ¨¡å¼
```cpp
class ParticleSystem {
    static constexpr size_t MAX_PARTICLES = 1000;
    std::vector<Particle> particles;  // é¢„åˆ†é…ï¼Œé‡å¤ä½¿ç”¨
    
    Particle* getNextParticle() {
        // å¾ªç¯æŸ¥æ‰¾éæ´»è·ƒç²’å­
        // é¿å…é¢‘ç¹çš„å†…å­˜åˆ†é…/é‡Šæ”¾
    }
};
```

### 2. ç²’å­å‘å°„å™¨é…ç½®
```cpp
EmitterConfig config;
config.position = {x, y};      // å‘å°„ä½ç½®
config.count = 20;              // ç²’å­æ•°é‡
config.minSpeed = 50.0f;        // æœ€å°é€Ÿåº¦
config.maxSpeed = 200.0f;       // æœ€å¤§é€Ÿåº¦
config.life = 0.8f;             // ç”Ÿå‘½å‘¨æœŸ
config.gravity = 100.0f;        // é‡åŠ›åŠ é€Ÿåº¦
```

### 3. ç¼“åŠ¨å‡½æ•°åº”ç”¨
```cpp
// é¢œè‰²æ¸å˜
Color current = Easing::lerpColor(startColor, endColor, 
                                   Easing::easeOutQuad(t));

// å¤§å°å˜åŒ–
float currentSize = maxSize * Easing::easeOutQuad(particle.life / particle.maxLife);
```

### 4. å±å¹•éœ‡åŠ¨å®ç°
```cpp
// éšæœºåç§»
offset.x = GetRandomValue(-intensity, intensity);
offset.y = GetRandomValue(-intensity, intensity);

// éšæ—¶é—´è¡°å‡
float ratio = remainingTime / maxTime;
intensity *= ratio;
```

## ğŸ—ï¸ æ„å»ºå’Œè¿è¡Œ

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
cmake --build build --target snake-v2-fx
./build/bin/snake-phases/snake-v2-fx
```

## ğŸ”§ æ‰©å±•æŒ‘æˆ˜

1. **æ·»åŠ æ–°çš„ç²’å­æ•ˆæœ**ï¼š
   ```cpp
   // è›‡æ­»äº¡æ—¶çš„æ¶ˆæ•£æ•ˆæœ
   void emitDeathDissolution(Vector2 pos, Color color) {
       EmitterConfig config;
       config.count = 100;
       config.gravity = -50.0f;  // å‘ä¸Šé£˜
       // ...
   }
   ```

2. **å®ç°ç¼“åŠ¨åŠ¨ç”»**ï¼š
   - è®©é£Ÿç‰©ä½¿ç”¨ç¼“åŠ¨å‡½æ•°ä¸Šä¸‹æµ®åŠ¨
   - è®©èœå•æ–‡å­—æœ‰è¿›å…¥åŠ¨ç”»

3. **æ·»åŠ æ›´å¤šéœ‡åŠ¨ç±»å‹**ï¼š
   - æŒç»­éœ‡åŠ¨ï¼ˆåœ°éœ‡æ•ˆæœï¼‰
   - æ–¹å‘æ€§éœ‡åŠ¨ï¼ˆå•å‘å†²å‡»ï¼‰

4. **ç²’å­ç¢°æ’**ï¼š
   - è®©ç²’å­ä¸å¢™å£ç¢°æ’åå¼¹
   - ä½¿ç”¨ç®€å•çš„ç‰©ç†æ¨¡æ‹Ÿ

## ğŸ“ ç‰ˆæœ¬å¯¹æ¯”

| ç‰¹æ€§ | v1-items | v2-fx (å½“å‰) |
|------|----------|--------------|
| ç²’å­ç³»ç»Ÿ | âŒ | âœ… |
| å±å¹•éœ‡åŠ¨ | âŒ | âœ… |
| ç¼“åŠ¨å‡½æ•° | âŒ | âœ… |
| é£Ÿç‰©åŠ¨ç”» | âŒ | âœ… (é—ªçƒ) |
| è½¨è¿¹æ•ˆæœ | âŒ | âœ… |

## ğŸ“š ç›¸å…³èµ„æº

- [Easing Functions Cheat Sheet](https://easings.net/)
- [æ¸¸æˆç¼–ç¨‹æ¨¡å¼ - å¯¹è±¡æ± ](https://gameprogrammingpatterns.com/object-pool.html)
- [Raylib ç²’å­ç¤ºä¾‹](https://www.raylib.com/examples.html)

---

**ä¸Šä¸€ç‰ˆæœ¬**: [v1-items](../v1-items/)  
**ä¸‹ä¸€ç‰ˆæœ¬**: v3-audio (éŸ³æ•ˆä¸æ•°æ®å­˜å‚¨) - å¾…å®ç°
