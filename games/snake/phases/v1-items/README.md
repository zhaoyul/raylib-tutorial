# ğŸ Snake v1-items - é“å…·ä¸éšœç¢ç³»ç»Ÿ

## æ¦‚è¿°

è¿™æ˜¯ Snake æ¸¸æˆçš„ **v1-items** ç‰ˆæœ¬ï¼Œåœ¨ v0-base åŸºç¡€ä¸Šæ·»åŠ äº†ï¼š
- ğŸ å¤šç§ç±»å‹çš„é£Ÿç‰©ï¼ˆä½¿ç”¨ç»§æ‰¿å’Œå¤šæ€ï¼‰
- ğŸ§± éšœç¢ç‰©ç³»ç»Ÿ
- â¤ï¸ ç”Ÿå‘½ç³»ç»Ÿï¼ˆ3æ¡å‘½ï¼‰
- â±ï¸ é™æ—¶é£Ÿç‰©å’Œä¸´æ—¶æ•ˆæœ

## ğŸ® æ¸¸æˆç‰¹æ€§

### é£Ÿç‰©ç±»å‹

| é£Ÿç‰©        | é¢œè‰²   | æ•ˆæœ                   | æ¦‚ç‡ |
|-------------|--------|------------------------|------|
| ğŸ æ™®é€šé£Ÿç‰© | çº¢è‰²   | +10åˆ†ï¼Œé•¿åº¦+1          | 70%  |
| ğŸŒŸ é‡‘è‰²é£Ÿç‰© | é‡‘è‰²   | +50åˆ†ï¼Œé•¿åº¦+3ï¼Œé™æ—¶5ç§’ | 10%  |
| âš¡ åŠ é€Ÿé£Ÿç‰© | å¤©è“è‰² | +15åˆ†ï¼Œé€Ÿåº¦ç¿»å€5ç§’     | 12%  |
| ğŸŒ å‡é€Ÿé£Ÿç‰© | ç´«è‰²   | +20åˆ†ï¼Œé€Ÿåº¦å‡åŠ5ç§’     | 8%   |

### éšœç¢ç‰©ç³»ç»Ÿ
- éšæœºç”Ÿæˆ 5 ä¸ªéšœç¢ç‰©
- è›‡æ’åˆ°éšœç¢ç‰©æŸå¤±ä¸€æ¡ç”Ÿå‘½
- ç”Ÿå‘½è€—å°½åæ¸¸æˆç»“æŸ

### ç”Ÿå‘½ç³»ç»Ÿ
- åˆå§‹ 3 æ¡ç”Ÿå‘½
- æ¯ 500 åˆ†å¥–åŠ± +1 ç”Ÿå‘½ï¼ˆæœ€å¤š 3 æ¡ï¼‰
- æ’å¢™/æ’éšœç¢ -1 ç”Ÿå‘½
- æ’è‡ªèº«ç›´æ¥æ¸¸æˆç»“æŸ

## ğŸ® æ“ä½œè¯´æ˜

| æŒ‰é”®          | åŠŸèƒ½       |
|---------------|------------|
| æ–¹å‘é”® / WASD | æ§åˆ¶è›‡ç§»åŠ¨ |
| ç©ºæ ¼ / Enter  | å¼€å§‹æ¸¸æˆ   |
| P / ç©ºæ ¼      | æš‚åœ/ç»§ç»­  |
| ESC           | è¿”å›èœå•   |

## ğŸ“ ä»£ç ç»“æ„

```
v1-items/
â”œâ”€â”€ main.cpp          # ç¨‹åºå…¥å£
â”œâ”€â”€ game.h/cpp        # æ¸¸æˆä¸»ç±»ï¼Œç®¡ç†çŠ¶æ€å’Œé€»è¾‘
â”œâ”€â”€ snake.h/cpp       # è›‡ç±»ï¼Œå°è£…ç§»åŠ¨å’Œç¢°æ’
â”œâ”€â”€ item.h/cpp        # é“å…·åŸºç±»å’Œæ´¾ç”Ÿç±»ï¼ˆå¤šæ€ï¼‰
â”œâ”€â”€ obstacle.h/cpp    # éšœç¢ç‰©ç®¡ç†
â”œâ”€â”€ CMakeLists.txt    # æ„å»ºé…ç½®
â””â”€â”€ README.md         # æœ¬æ–‡ä»¶
```

## ğŸ“ å­¦ä¹ è¦ç‚¹

### 1. ç»§æ‰¿ä¸å¤šæ€
```cpp
class Item {
public:
    virtual void onEat(Snake& snake, Game& game) = 0;  // çº¯è™šå‡½æ•°
    virtual Color getColor() const = 0;
    virtual ~Item() = default;
};

class GoldenFood : public Item {
public:
    void onEat(Snake& snake, Game& game) override {
        snake.grow(3);
        game.addScore(50);
    }
    Color getColor() const override { return GOLD; }
};
```

### 2. å·¥å‚æ¨¡å¼
```cpp
class ItemFactory {
public:
    static std::unique_ptr<Item> createWeightedItem(int x, int y) {
        int roll = GetRandomValue(1, 100);
        if (roll <= 70) return std::make_unique<NormalFood>(x, y);
        if (roll <= 80) return std::make_unique<GoldenFood>(x, y);
        // ...
    }
};
```

### 3. æ™ºèƒ½æŒ‡é’ˆ
```cpp
std::unique_ptr<Item> currentItem;  // è‡ªåŠ¨å†…å­˜ç®¡ç†
std::unique_ptr<Snake> snake;
```

### 4. é¢å‘å¯¹è±¡è®¾è®¡
- **å°è£…**ï¼šæ¯ä¸ªç±»ç®¡ç†è‡ªå·±çš„çŠ¶æ€
- **èŒè´£åˆ†ç¦»**ï¼šSnake åªç®¡ç§»åŠ¨ï¼ŒItem åªç®¡æ•ˆæœï¼ŒGame åè°ƒå…¨å±€

## ğŸ—ï¸ æ„å»ºå’Œè¿è¡Œ

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
cd games/snake/phases/v1-items

# åˆ›å»ºæ„å»ºç›®å½•
mkdir build && cd build

# é…ç½®å’Œæ„å»º
cmake ..
cmake --build .

# è¿è¡Œ
./snake-v1-items
```

æˆ–è€…ä»é¡¹ç›®æ ¹ç›®å½•æ„å»ºï¼š
```bash
cmake -B build -S ../../../../..
cmake --build build --target snake-v1-items
./build/bin/snake-phases/snake-v1-items
```

## ğŸ”§ æ‰©å±•æŒ‘æˆ˜

1. **æ·»åŠ æ–°é£Ÿç‰©ç±»å‹**ï¼š
   ```cpp
   class InvincibleFood : public Item {
       // ä¸´æ—¶æ— æ•Œæ•ˆæœ
   };
   ```

2. **å¯ç ´åéšœç¢ç‰©**ï¼š
   - æ·»åŠ  `destructible` æ ‡å¿—
   - åƒåˆ°ç‰¹å®šé£Ÿç‰©åå¯ä»¥ç ´åå¢™å£

3. **é£Ÿç‰©ç»„åˆæ•ˆæœ**ï¼š
   - è¿ç»­åƒåˆ°é‡‘è‰²é£Ÿç‰©è·å¾—è¿å‡»å¥–åŠ±

4. **åŠ¨æ€éšœç¢ç‰©**ï¼š
   - ç§»åŠ¨çš„éšœç¢ç‰©
   - å®šæœŸæ”¹å˜ä½ç½®çš„å¢™å£

## ğŸ“ ç‰ˆæœ¬å¯¹æ¯”

| ç‰¹æ€§     | v0-base | v1-items (å½“å‰)  |
|----------|---------|------------------|
| ä»£ç ç»“æ„ | å•æ–‡ä»¶  | å¤šæ–‡ä»¶ï¼Œé¢å‘å¯¹è±¡ |
| é£Ÿç‰©ç±»å‹ | 1ç§     | 4ç§ï¼ˆå¤šæ€ï¼‰      |
| éšœç¢ç‰©   | âŒ      | âœ…               |
| ç”Ÿå‘½ç³»ç»Ÿ | âŒ      | âœ…               |
| ä¸´æ—¶æ•ˆæœ | âŒ      | âœ…               |
| æš‚åœåŠŸèƒ½ | âŒ      | âœ…               |

## ğŸ“š ç›¸å…³é˜…è¯»

- [C++ è™šå‡½æ•°å’Œå¤šæ€](https://en.cppreference.com/w/cpp/language/virtual)
- [å·¥å‚æ¨¡å¼](https://refactoring.guru/design-patterns/factory-method/cpp)
- [æ™ºèƒ½æŒ‡é’ˆ](https://en.cppreference.com/w/cpp/memory/unique_ptr)

---

**ä¸Šä¸€ç‰ˆæœ¬**: [v0-base](../../main.cpp)  
**ä¸‹ä¸€ç‰ˆæœ¬**: v2-fx (ç²’å­ç‰¹æ•ˆ) - å¾…å®ç°
